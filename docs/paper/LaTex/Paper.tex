%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%   8888888b.                                         888      888
%   888   Y88b                                        888      888
%   888    888                                        888      888
%   888   d88P 888d888 .d88b.   8888b.  88888b.d88b.  88888b.  888  .d88b.
%   8888888P"  888P"  d8P  Y8b     "88b 888 "888 "88b 888 "88b 888 d8P  Y8b
%   888        888    88888888 .d888888 888  888  888 888  888 888 88888888
%   888        888    Y8b.     888  888 888  888  888 888 d88P 888 Y8b.
%   888        888     "Y8888  "Y888888 888  888  888 88888P"  888  "Y8888

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% vscode extension LaTex-Workshop uses these magic comments to 
% define which program will be used to build the project or bibliography
% I do need lualatex to use markdown package. Also, when I use lualatex
% in need to include `pdfencoding=auto` in hyperref setup.
% !TEX program = lualatex
%% !TEX options = -synctex=1 -interaction=nonstopmode -shell-scape "%DOC%"
% `-shell-scape` argument doesn't work in Windows 10 lualatex
% !TEX options = -synctex=1 -interaction=nonstopmode "%DOC%"
% !BIB program = biber

\documentclass[11pt,a4paper,dvipsnames,twoside]{article}

% Paper geometry
\usepackage[a4paper,left=3cm,right=2.5cm,vmargin=2.5cm]{geometry}
% \usepackage[showframe,a4paper,left=3cm,right=2.5cm,vmargin=2.5cm]{geometry}

% inputenc is ignored when I'm using lualatex as builder
% \usepackage[utf8]{inputenc}

% To produce a spanish automated output, for instance, TOC is called 'Índice' and
% References is called 'Referencias'
\usepackage[english]{babel}

% Modifier for space between lines (=\baselinestretch*\baselineskip)
% \renewcommand{\baselinestretch}{1.5}
% Modifies the space between notes in footnotes 
% IMPORTANT: just the same than paragraphs (parskip package below)
% \setlength{\footnotesep}{.9\baselineskip}

% It is better to use setspace package
\usepackage{setspace}
\setstretch{1.5}

% Modifies the space over footnote line
\addtolength{\skip\footins}{\baselineskip}

% To convert fonts already installed in the system and using them as main font in the document
% To check the names that fontspec admits use `otfinfo -i </path/to/font/file/even.ttf>`
% otfinfo does admit also ttf files! For instance:
% `otfinfo -i /usr/share/fonts/liberation/LiberationSerif-Regular.ttf`
\usepackage{fontspec}
\setmainfont{Liberation Serif}
\setsansfont{Liberation Sans}
\setmonofont{CourierPrimeCode-Regular} 
% \setmonofont{Liberation Mono}
% A different font for titles
\newfontfamily\headingfont[]{Liberation Sans}

% To allow custom headings
\usepackage[compact]{titlesec}
\titleformat*{\section}{\Large\headingfont\bfseries}
\titleformat*{\subsection}{\large\headingfont\bfseries}
\titleformat*{\subsubsection}{\normalsize\headingfont\bfseries}
% To control spacing for sections, I'm not using it, it just an example
% \titlespacing*{\section}{3em}{0em}{-2em}

% To change title font family
% \usepackage{titling}
% \renewcommand{\maketitlehooka}{\headingfont}

% To change TOC appearance; see 2.1 section in tocloft.pdf for info about 'titles' option
% it does not mention fancyhdr package but it do the work to flushright page numbers for 
% table of contents pages. see: https://tex.stackexchange.com/a/137301/83189
% \usepackage[titles]{tocloft}
\usepackage{tocloft}
\renewcommand{\cftsecfont}{\headingfont\bfseries}
\renewcommand{\cftsecpagefont}{\headingfont\bfseries}
\renewcommand{\cftsubsecfont}{\headingfont}
\renewcommand{\cftsubsecpagefont}{\headingfont}
\renewcommand{\cftsubsubsecfont}{\headingfont}
\renewcommand{\cftsubsubsecpagefont}{\headingfont}
\tocloftpagestyle{fancy} % However, I find better this way bc 'titles' option does not 
% produce a compact TOC, it does expand bc probably it uses the same spacing rules in 
% the TOC than in (subsub)(sub)sections titles at the rest of the text.
% -------------------
% Remove the TOC title (it is redundant if you have included a TOC section inside TOC)
\makeatletter
\renewcommand{\@cftmaketoctitle}{}
\makeatother
% But in the case you still want to print the TOC title, this other one modifies TOC title font
\renewcommand{\cfttoctitlefont}{\Large\headingfont\bfseries}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%   8888888b.                   888
%   888   Y88b                  888
%   888    888                  888
%   888   d88P 8888b.   .d8888b 888  888  8888b.   .d88b.   .d88b.  .d8888b
%   8888888P"     "88b d88P"    888 .88P     "88b d88P"88b d8P  Y8b 88K
%   888       .d888888 888      888888K  .d888888 888  888 88888888 "Y8888b.
%   888       888  888 Y88b.    888 "88b 888  888 Y88b 888 Y8b.          X88
%   888       "Y888888  "Y8888P 888  888 "Y888888  "Y88888  "Y8888   88888P'
%                                                      888
%                                                 Y8b d88P
%                                                  "Y88P" 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% biblatex package
% 'block=nbpar' produces a new paragraph for every block (printing the URLs in a new line and preventing breaking short URLs)
% page 50 in https://osl.ugr.es/CTAN/macros/latex/contrib/biblatex/doc/biblatex.pdf
\usepackage[block=par,style=ieee,backend=biber]{biblatex}
\addbibresource{Paper.bib}
\setcounter{biburllcpenalty}{7000}
\setcounter{biburlucpenalty}{7000}
\setcounter{biburlnumpenalty}{7000}

% Basic packages (they don't need extra configurations)
\usepackage{% `esvect` will not work without texlive-fontsextra
  amsmath,
  amsfonts,
  amssymb,
  graphicx,
  multirow,
  tabularx,
  mathtools,
  caption,
  subcaption,
  color,
  url
}
  
% Extra colors
\usepackage[x11names,table]{xcolor}

% To cross references and metadata
\usepackage[]{hyperref}
\hypersetup{%
  pdfencoding=auto,
  pdftitle={Degree Final Project},
  pdfauthor={Javier Fernández // jfernandil@alumnos.unex.es},
  pdfsubject={},
  pdfkeywords={Project, Dendrometry, LoRa, Arduino, IoT},
  colorlinks = false,
  linkbordercolor = DarkGoldenrod2,
  urlbordercolor= DarkGoldenrod2,
  %linkcolor = black,
  %urlcolor  = black,
  breaklinks
}

% To make the frame around UEx seal
\usepackage{mdframed}

% To include References and TOC in the TOC
\usepackage[]{tocbibind}

% To avoid 'underfull box' warning caused because bibliography line-break
\usepackage{etoolbox}
\apptocmd{\thebibliography}{\raggedright}{}{}

% To use \begin{markdown}\end{markdown} environment and be able to type markdown mode
% IMPORTANT: do not use indent inside \begin{markdown}\end{markdown} environment in the code! 
% if you do lualatex is not translating the markdown code.
\usepackage{markdown}

% To get proper skips between paragraphs when you left a blank line in the code! (so I don't need to use `\\` 
% and I'm not getting warnings all the time) 
% IMPORTANT:
% here is an interesting article speaking about paragraphs an indentation, there are two types of paragraphs; 
% - classic: using indentation to distinguish between one and another
% - modern: dispenses with indents and instead distinguish paragraphs using a blank line between them
% Commenting/uncommenting the following package you can choose between two types.
% more info here: https://tex.stackexchange.com/a/196941/83189
% However this package also has options, which can be
% `indent` (to enable indentation)
% `skip=.5\baselineskip` (by default)
% `parfill` (to impose a minimum space at the end of the last line of a paragraph =30pt by default)
% \usepackage[skip=\baselineskip]{parskip}
% Another different option
% https://tex.stackexchange.com/a/371986/83189
\parskip=.75\baselineskip
\parindent=0pt

% To make quotes (I need renewcommand for mkbegdispquote and mkenddispquote to enable quote marks at the
% end and beginning to displayquote environment. More info: https://tex.stackexchange.com/questions/101809/how-to-force-csquotes-to-show-the-quotations-marks-in-block-quotes)
\usepackage[style=english]{csquotes}
\renewcommand{\mkbegdispquote}[2]{\openautoquote}
\renewcommand{\mkenddispquote}[2]{\closeautoquote#1#2}
\renewcommand{\mkcitation}[1]{ #1}

% To print units
\usepackage{siunitx}

% Enumerate lists
\usepackage{enumitem}
% To fix spaces between paragraphs, items and top or bottom fo enumerate/itemize environments I need the following
% see page 3 in https://osl.ugr.es/CTAN/macros/latex/contrib/enumitem/enumitem.pdf
\setlist[itemize]{%
  parsep=.75\baselineskip,
  topsep=0pt,
  partopsep=0pt,
  itemsep=0pt
}
\setlist[enumerate]{%
  parsep=.75\baselineskip,
  topsep=0pt,
  partopsep=0pt,
  itemsep=0pt
}

% To backrefs in the footnotes
\usepackage{footnotebackref}

% To improve headers an footers (I'm using to set page number at right)
\usepackage{fancyhdr}
% Turn on the style
\pagestyle{fancy}
\fancyhf{} % Start with clearing everything in the header and footer
\renewcommand{\headrulewidth}{0pt} % Removes the horizontal rule in header by default
\fancyfoot[R]{\thepage} % Set the right side of the footer to be the page number

% To insert json snippets
\usepackage{listings}
\renewcommand{\lstlistingname}{Ejemplo}

% \colorlet{punct}{red!60!black}
% \definecolor{background}{HTML}{EEEEEE}
% \definecolor{delim}{RGB}{20,105,176}
% \colorlet{numb}{magenta!60!black}
\definecolor{punct}{HTML}{0064d3}
\colorlet{background}{gray!20}
\definecolor{delim}{HTML}{ff0000}
\definecolor{numb}{HTML}{0f9d58}

\lstdefinelanguage{json}{
  % aboveskip=\baselineskip,
  % xleftmargin=2em,
  basicstyle=\scriptsize\ttfamily,
  numbers=left,
  numberstyle=\scriptsize,
  stepnumber=1,
  numbersep=8pt,
  showstringspaces=false,
  breaklines=true,
  frame=lines,
  backgroundcolor=\color{background},
  literate=
   *{0}{{{\color{numb}0}}}{1}
    {1}{{{\color{numb}1}}}{1}
    {2}{{{\color{numb}2}}}{1}
    {3}{{{\color{numb}3}}}{1}
    {4}{{{\color{numb}4}}}{1}
    {5}{{{\color{numb}5}}}{1}
    {6}{{{\color{numb}6}}}{1}
    {7}{{{\color{numb}7}}}{1}
    {8}{{{\color{numb}8}}}{1}
    {9}{{{\color{numb}9}}}{1}
    {:}{{{\color{punct}{:}}}}{1}
    {,}{{{\color{punct}{,}}}}{1}
    {"}{{{\color{punct}{"}}}}{1}
    {\{}{{{\color{delim}{\{}}}}{1}
    {\}}{{{\color{delim}{\}}}}}{1}
    {[}{{{\color{delim}{[}}}}{1}
    {]}{{{\color{delim}{]}}}}{1},
}

\newcommand\YAMLcolonstyle{\color{red}\mdseries}
\newcommand\YAMLkeystyle{\color{black}\mdseries}
\newcommand\YAMLvaluestyle{\color{blue}\mdseries}
% here is a macro expanding to the name of the language
% (handy if you decide to change it further down the road)
\lstdefinelanguage{yaml}{
  keywords={true,false,null,y,n},
  keywordstyle=\color{darkgray}\bfseries,
  basicstyle=\YAMLkeystyle\scriptsize\ttfamily,
  numbers=left,
  numberstyle=\scriptsize,
  numbersep=8pt,
  breaklines=true,
  frame=lines,
  backgroundcolor=\color{background},
  sensitive=false,
  comment=[l]{\#},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\YAMLvaluestyle\ttfamily,
  moredelim=[l][\color{orange}]{\&},
  moredelim=[l][\color{magenta}]{*},
  moredelim=**[il][\YAMLcolonstyle{:}\YAMLvaluestyle]{:},   % switch to value style at :
  morestring=[b]',
  morestring=[b]",
  literate = {---}{{\ProcessThreeDashes}}3
             {>}{{\textcolor{red}\textgreater}}1     
             {|}{{\textcolor{red}\textbar}}1 
             {\ -\ }{{\mdseries\ -\ }}3,
}

% To highlight text with automated line break or 'Overfull \hbox' messages
\usepackage{soul}
\soulregister\enquote7


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%    .d8888b.                                                              888
%   d88P  Y88b                                                             888
%   888    888                                                             888
%   888         .d88b.  88888b.d88b.  88888b.d88b.   8888b.  88888b.   .d88888 .d8888b
%   888        d88""88b 888 "888 "88b 888 "888 "88b     "88b 888 "88b d88" 888 88K
%   888    888 888  888 888  888  888 888  888  888 .d888888 888  888 888  888 "Y8888b.
%   Y88b  d88P Y88..88P 888  888  888 888  888  888 888  888 888  888 Y88b 888      X88
%    "Y8888P"   "Y88P"  888  888  888 888  888  888 "Y888888 888  888  "Y88888  88888P'

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Provides the \doubt{} command
\newcommand{\doubt}[1] {\textbf{\color{Red3}#1}}
% Provides \lang{} command to mark language doubts
\newcommand{\lang}[1] {\textbf{\color{Tomato1}#1}}

% Provides the \cmd{} command; using soul package and previous \letcolor
% definition for listings package. Read page 3 of soul.pdf or 
% https://tex.stackexchange.com/a/231647/83189
% I need that to get a correct and automated line break when the command I want
% to highlight is too long and is placed at the end of the line.
\sethlcolor{background}
\newcommand{\cmd}[1] {\hl{\texttt{#1}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%   88888888888 d8b 888    888
%       888     Y8P 888    888
%       888         888    888
%       888     888 888888 888  .d88b.
%       888     888 888    888 d8P  Y8b
%       888     888 888    888 88888888
%       888     888 Y88b.  888 Y8b.
%       888     888  "Y888 888  "Y8888

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{\headingfont%
  University of Extremadura\\
  Faculty of Science\\[1cm]
  \textbf{%
  	Physics degree\\
    Degree Final Project\\[3cm]
    \flushleft{\large{Developement of a FIWARE-based application for tree species monitoring (dendrometry)}}\\[3cm]
    %\flushleft{\large{About implementation of LoRa-based wireless monitoring systems for tree species dendrometry.}}\\[3cm]
  }
}

% I've used that \parbox to flush right the author, but I must have use this package https://osl.ugr.es/CTAN/macros/latex/contrib/titling/titling.pdf
\author{%
  \parbox{.9\textwidth}{
    \begin{flushright}
      Javier Fernández Aparicio\\
      % $\blacktriangledown$\\
      \href{mailto:jfernandil@alumnos.unex.es}{jfernandil@alumnos.unex.es}\\[\dimexpr\baselineskip + 1cm]
      July 2020
    \end{flushright}
  }
}
\date{}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%   888888b.                     d8b               8888888b.
%   888  "88b                    Y8P               888  "Y88b
%   888  .88P                                      888    888
%   8888888K.   .d88b.   .d88b.  888 88888b.       888    888  .d88b.   .d8888b
%   888  "Y88b d8P  Y8b d88P"88b 888 888 "88b      888    888 d88""88b d88P"
%   888    888 88888888 888  888 888 888  888      888    888 888  888 888
%   888   d88P Y8b.     Y88b 888 888 888  888      888  .d88P Y88..88P Y88b.
%   8888888P"   "Y8888   "Y88888 888 888  888      8888888P"   "Y88P"   "Y8888P
%                            888
%                       Y8b d88P
%                        "Y88P"

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% To manage hyphenation (words break at end of the line), in this case is to prevent "Tellink" breakage.
\hyphenation{Tellink}

\begin{document}
\noindent % to prevent the indentation before first minipage and be able to expand minipages
\begin{minipage}[t]{.28\textwidth}
    \centering
      \begin{mdframed}[innerbottommargin=490pt, innertopmargin=40pt, linewidth=1pt]
        \includegraphics[width=\textwidth]{../../pictures/Seal/marca-uex-2-color.png}
      \end{mdframed}
\end{minipage}
\hskip 30pt minus 5pt % It is a dynamic space (glue) that starts on 30pt and is 5pt shrinkable
\begin{minipage}[t]{.6\textwidth}
  \centering
  \vspace{1cm}
  \maketitle
\end{minipage}
\thispagestyle{empty}
\newpage
\begingroup
  \thispagestyle{empty}
  \null%
\endgroup
\newpage
% \pagenumbering{arabic}% Arabic page numbers (and reset to 1)
\setcounter{page}{1}
\tableofcontents

\newpage

\section*{Abstract}
\addcontentsline{toc}{section}{Abstract}%
This document gives a detailed description of this project, which is focused on researching possibles low-cost alternatives for wireless dendrometry systems. Currently there exist a lot of expensive and professional systems in the market, that's because this project is intended to reduce costs and increase the versatility, scalability and accessibility.

In order to reach these objetives the project will be supported over free software such as FIWARE\cite{Fiware} or free hardware such as Arduino\cite{Arduino} and RaspberryPi\cite{Raspberrypi}.

\section{Introduction}
This project arises itself from a direct interaction with professionals inside forestal sector. The original idea was to give technical coverage for particular necessities which professionals in this sector had to face off with. At this point is easy to notice this solution will need to be a distributed solution, due high samples dispersion. \lang{As can be seen}, there are even remote techniques to predict this sample density/dispersion using remote methods which predicts \doubt{between $157$-$170$ indviduals per hectare}\cite{ForestStandVol} (depending on the used model). So according to this and sample size determination theories, to get a great resolution could be necessary a big size for samples and the necessity of a big wireless network of distributed devices, since each device will correspond with an individual.

This is more or less, the definition of the IoT (Internet of Things) concept; according to \cite{IoTOverview} IoT concept comes from an earlier concept called M2M (Machine-to-Machine) communications. However, also according to \cite{IoTOverview} there is not an official definition for IoT concept, but

\begin{displayquote}[\cite{IoTObjetives}]
  based on the traditional information carriers including the Internet, telecommunication  network  and  so  on,  Internet  of Things (IoT) is a network that interconnects ordinary physical  objects  with  the identifiable addresses  so that provides intelligent services.  
\end{displayquote}

This, at least, covers a little part what this project is intended to do: \enquote{Interconnect ordinary physical objects with the identifiable adresses} to provide intelligent services. These physical objects are in this case ordinary dendrometers.

Over the years there have existed analog and manual dendrometers, thus data acquisition had to follow a manual process in the same way. This could turn out bothering because the big size for this statistical population, \lang{as it was exposed before}. So it was traditionally necessary to go there and as part of the field work, take individual by individual the whole sample data.


\subsection{Dendrometry, a formal definition}
The GEMET (General Multilingual Environmental Thesaurus) adopts the definition for \textit{dendrometry} from \cite{DictNaturalRes}:

\begin{displayquote}
  The measuring of the diameter of standing trees from the ground with a dendrometer that can also be used to measure tree heights.
\end{displayquote}

This one is a bit wide definition because nowadays most dendrometry researches are focused on stem diameter; however, at this point could be interesting to extend this project to include also a sensor to heights measurement.\footnote{This project is already considered extensive enough.} 

A lot of comercial dendrometry systems are available in the market, nevertheless more than single and manual dendrometers those are complex and professional distributed systems, consequently \lang{¿like/as?} has been already said, one of the most important objectives in this project is to research about the possibility to get lower the costs of the whole system, because those professional systems are still expensive. So this is intended to get a cheaper system and make it accessible to everyone who wants \lang{to monitorize} one or more trees growth. 

There are plenty types of dendrometers but according to \cite{DendroResearch} \enquote{It is possible to define two broad categories of dendrometer: those that contact the stem and those that do not}. This project is focused on the former kind, so for this project is being developed a \enquote{contact dendrometer} based on a linear potentiometer.


\subsection{Arduino, multipurpose microcontroller}
It's not difficult to justify the use of such an interesting platform as Arduino. The adaptability is one of its strengths, therefore; it is able to acquire and process certain data coming from a set of sensors and manage it to send this via any plugged wireless network interface.

Due circumstances exposed in introduction section is needed an accessible and multipurpose platform \lang{to be the basis for the device design itself}, this is to say the core part of the dendrometer is an Arduino microcontroller.  

Since the idea is to produce a low-cost device in order to distribute a high number of them, it must be a simple design; that's because it consist only of three parts,

\begin{itemize}
  \item \href{https://es.rs-online.com/web/p/products/0317780/}{\doubt{Linear potentiometer:}} which is the sensor itself due is directly in contact with the stem. In order \doubt{to improve data acquisition it will be necessary to use a High Input Impedance Amplifier.}
  \item Arduino microcontroller: this is the core part for the device, it will be responsible for acquire linear potentiometer data and send it to a gateway through LoRa interface. 
  \item LoRa interface: similar to other existing wireless interfaces, it is necessary to forward the sensor data to a concentrator (gateway). Usually and due its complexity these kind of interfaces are integrated circuits which are mounted on a PCB in order to obtain a pluggable card/shield. 
\end{itemize}


\subsection{LoRa (Long Range)}
LoRa is a \enquote{long-range, low-power, low-bitrate, wireless telecommunications system}\cite{LoRaGeneral}. This is because some devices inside IoT paradigm tend to be economical and low-resources devices, in order to get them distributed/scattered, as it has been pointed. So this low availability along to their tendency to be distributed/scattered causes the necessity for a low-power consumption and a long-range telecommunication.

In a more general sense, there is a wider concept to include all these kind of technologies which fullfil the IoT communication requirements, this is the \enquote{Low-Power Wide Area Networks} (LPWAN)

\begin{displayquote}[\cite{LoRaGeneral}]
  Colloquially  speaking,  an LPWAN is supposed to be to the IoT what WiFi was to consumer networking: offering radio coverage over a (very) large area by way of base stations and adapting transmission rates, transmission power, modulation, duty cycles, etc., such that end-devices incur a very low energy consumption due to their being connected. 
\end{displayquote}

It is important to note that \lang{when talking about \enquote{low-power consumption}, in many cases it is actually meaning} battery-powered devices, for example.

By other hand, LoRa can commonly refer to two distinct layers; a physical layer (LoRa itself) and a MAC layer protocol (LoRaWAN). The former one (the physical layer), is a proprietary technology developed by Semtech. So this does mean this layer is not fully open; LoRaWAN, however, is a protocol built to use LoRa physical layer,  It is intended to sensor networks, wherein those sensors exchange packages with some server with a \enquote{low data rate and relatively long time intervals (one transmission per hour or even days).}\cite{LoRaGeneral}. This particularly means that LoRaWAN protocol is perfect for the purpose of this project.  


\subsection{RaspberryPi, a powerful microcomputer}
As in the case of Arduino, RaspberryPi provides a powerful platform, however in the case of a RaspberryPi this platform is slightly more complex than for an Arduino.\footnote{There are a lot of Arduino models, and maybe some of them could be able to support, for example, multiple kind of Real Time Operative Systems, but it is not the case of this project, wherein the Arduino role is just to act as a core for the nodes.} From the hardware point of view, RaspberryPi implements a better one than Arduino, this also has an impact on a higher cost; however, this hardware allows a RaspberryPi to support a whole operating system; that's because this devices are usually called \textit{single-board computers}.

A few of interesting hardware specs are for instance, a \textit{Broadcom BCM2837B0, Cortex-A53 (ARMv8) 64-bit SoC @ 1.4GHz} as its CPU, \textit{1GB LPDDR2 SDRAM}, \textit{Gigabit Ethernet over USB 2.0 (maximum throughput 300 Mbps)} or even an \textit{Extended 40-pin GPIO header} among others.\cite{RPiSpecs}

The role for RaspberryPi in this project is to act like a gateway, receiving all the data from different nodes. So in order to perform this task correctly it is necessary to provide a LoRa interface, which is also embebed (as in Arduino) in a separate pluggable shield/card/hat.

\subsection{Dragino shields/hats}
These shields/expansion cards are necessary because those devices (Arduino and RaspberryPi) have not the ability to comunicate through LoRa physical layer, that's because they need a physical interface in order to manage those LoRa packages. Both shields are based on the SX1276/SX1278 transceiver. However the RaspberryPi hat also has a L80 GPS interface (Base on MTK MT3339), meanwhile Arduino has not.

This project is using the following models: 

\begin{itemize}
  \item \textit{LoRa GPS HAT for Raspberry Pi,}\cite{DraginoRpiHat} which makes use of the extended 40-pin GPIO header to be plugged\footnote{It is important to note this LoRa HAT is not actually designed to play a gateway role, in fact, this is considered a \enquote{Hack where a node-class radio tries to impersonate a gateway}\cite{RpiHatHack}, so this means this hat is designed to be a node-class radio, not a gateway.}
  \item \textit{LoRa Shield for Arduino}\cite{DraginoArdShield}, which is plugged through analog and digital pins.
\end{itemize}

\section{Background}


































\printbibliography
\end{document}
